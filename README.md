# eazyProxy 代理服务器

一个功能强大的HTTP/HTTPS代理服务器，具有Web管理界面、多端口管理、代理转发和用户认证功能。

## 功能特点

- **HTTP/HTTPS代理**：支持HTTP和HTTPS协议的代理转发
- **多端口管理**：支持配置多个代理端口，每个端口可以有独立的设置
- **代理转发**：支持将请求转发到另一个代理服务器（中转代理）
- **用户认证**：基于用户名和密码的代理认证机制，支持端口级别的用户管理
- **匿名访问**：可选择允许匿名访问，无需用户名和密码
- **Web管理界面**：直观的Web界面，方便管理代理服务器
- **实时监控**：查看代理服务器的运行状态和连接数
- **域名访问统计**：记录和统计访问的域名和请求次数
- **配置持久化**：自动保存配置到文件，重启后自动加载

## 系统要求

- Go 1.16 或更高版本
- 支持Windows、Linux和macOS系统

## 安装说明

### 从源码安装

1. 克隆代码仓库

```bash
git clone https://github.com/2833844911/eazyProxy.git
cd eazyProxy
```

2. 安装依赖

```bash
go mod download
```

3. 编译项目

```bash
go build -o eazyProxy
```

## 快速开始

1. 运行程序

```bash
# Windows
eazyProxy.exe

# Linux/macOS
./eazyProxy
```

2. 访问Web管理界面

打开浏览器，访问 `http://localhost:8081`

3. 使用默认管理员账户登录

- 用户名：admin
- 密码：admin

## 配置说明

### 默认配置

- 默认代理端口：0.0.0.0:8080
- Web管理界面地址：0.0.0.0:8081
- 管理员用户名：admin
- 管理员密码：admin

### 配置文件

程序会自动创建并使用 `config.json` 文件保存配置。重启程序时会自动加载此配置文件，并启动所有已启用的代理端口。

### 通过Web界面配置

登录Web管理界面后，可以配置以下内容：

- 代理端口管理（添加、编辑、删除、启动、停止）
- 每个端口的基本设置（监听地址、是否启用、是否允许匿名访问）
- 每个端口的用户管理（添加、删除专用用户）
- 每个端口的代理转发设置（启用转发、远程代理地址、认证信息）
- 全局设置（Web管理界面端口、管理员密码）

## 多端口管理

eazyProxy 支持配置多个代理端口，每个端口可以有独立的设置：

1. 在Web管理界面的"多端口管理"选项卡中，点击"添加代理端口"
2. 设置监听地址（格式为 IP:端口，如 0.0.0.0:8888）
3. 选择是否启用匿名访问
4. 点击"添加"按钮创建新端口
5. 在端口列表中，可以启动、停止、编辑或删除端口

## 代理转发（中转代理）

eazyProxy 支持将请求转发到另一个代理服务器，实现代理链：

1. 在端口管理界面，点击"编辑"按钮打开端口详情
2. 切换到"代理转发"选项卡
3. 勾选"启用代理转发"
4. 填写远程代理地址（格式为 IP:端口）
5. 如果远程代理需要认证，填写用户名和密码
6. 点击"保存转发设置"按钮

注意：修改代理转发设置后，如果代理端口正在运行，会自动重启以应用新设置。

## 端口专用用户

每个代理端口可以配置专用的用户账号：

1. 在端口管理界面，点击"编辑"按钮打开端口详情
2. 切换到"用户管理"选项卡
3. 填写用户名和密码
4. 如果需要创建无需认证的用户，勾选"无需认证的用户"
5. 点击"添加用户"按钮

## 使用示例

### 配置浏览器使用代理

1. 在浏览器的网络设置中，配置HTTP代理为你的服务器地址和端口（如 `127.0.0.1:8080`）
2. 如果启用了认证，当提示输入代理认证时，输入你创建的用户名和密码

### 使用Python请求示例

```python
import requests

proxies = {
    'http': 'http://username:password@127.0.0.1:8080',
    'https': 'http://username:password@127.0.0.1:8080'
}

response = requests.get('https://example.com', proxies=proxies)
print(response.text)
```

### 使用curl示例

```bash
curl -x http://username:password@127.0.0.1:8080 https://example.com
```

## 常见问题

### 代理服务器无法启动

- 检查端口是否被占用
- 确保有足够的权限绑定端口
- 查看日志输出，了解具体错误原因

### 代理转发不生效

- 确认已正确配置远程代理地址
- 检查远程代理是否可访问
- 如果远程代理需要认证，确保用户名和密码正确
- 修改转发设置后，确保代理端口已重启

### 无法连接到代理

- 确认代理服务器已启动
- 检查防火墙设置
- 验证用户名和密码是否正确
- 如果使用端口专用用户，确保使用了正确的端口

## 贡献

欢迎提交问题和功能请求！如果你想贡献代码，请先开issue讨论你想要改变的内容。